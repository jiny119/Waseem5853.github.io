<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Urdu/Hindi Text to Speech with Download</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        .input-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 18px;
            font-family: 'Segoe UI', 'Nafees', 'Jameel Noori Nastaleeq', sans-serif;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: #4CAF50;
        }
        
        .controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
        }
        
        .value-display {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
            color: #4CAF50;
        }
        
        .voice-selector {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }
        
        button {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-speak {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }
        
        .btn-record {
            background: linear-gradient(135deg, #9C27B0, #7B1FA2);
            color: white;
        }
        
        .btn-stop {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .download-section {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 5px solid #4CAF50;
            text-align: center;
            display: none;
        }
        
        .download-section h4 {
            color: #2E7D32;
            margin-bottom: 10px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }
        
        .status {
            text-align: center;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: none;
        }
        
        .recording {
            background: #fff3e0;
            color: #e65100;
        }
        
        .ready {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        @media (max-width: 600px) {
            .header h1 {
                font-size: 2em;
            }
            
            .button-group {
                grid-template-columns: 1fr;
            }
            
            body {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—£ï¸ Ø§Ø±Ø¯Ùˆ/à¤¹à¤¿à¤¨à¥à¤¦à¥€ Ù¹ÛŒÚ©Ø³Ù¹ Ù¹Ùˆ Ø§Ø³Ù¾ÛŒÚ†</h1>
            <p>Ø§Ù¾Ù†Ø§ Ù…ØªÙ† Ù„Ú©Ú¾ÛŒÚºØŒ Ø³Ù†ÛŒÚº Ø§ÙˆØ± ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº | à¤…à¤ªà¤¨à¤¾ à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤²à¤¿à¤–à¥‡à¤‚, à¤¸à¥à¤¨à¥‡à¤‚ à¤”à¤° à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <h3>ğŸ“ Ø§Ù¾Ù†Ø§ Ù…ØªÙ† ÛŒÛØ§Úº Ù„Ú©Ú¾ÛŒÚº | à¤…à¤ªà¤¨à¤¾ à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¯à¤¹à¤¾à¤ à¤²à¤¿à¤–à¥‡à¤‚:</h3>
                <textarea id="textInput" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÛŒÚ©Ù… | à¤‰à¤¦à¤¾à¤¹à¤°à¤£: à¤¨à¤®à¤¸à¥à¤¤à¥‡..."></textarea>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>ğŸµ Ø¢ÙˆØ§Ø² Ú©ÛŒ Ø±ÙØªØ§Ø± | à¤µà¥‰à¤¯à¤¸ à¤¸à¥à¤ªà¥€à¤¡:</label>
                    <div class="slider-container">
                        <input type="range" id="rate" min="0.5" max="2" value="1" step="0.1">
                        <span class="value-display" id="rateValue">1</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>ğŸ¤ Ø¢ÙˆØ§Ø² Ú©ÛŒ Ù¾Ú† | à¤µà¥‰à¤¯à¤¸ à¤ªà¤¿à¤š:</label>
                    <div class="slider-container">
                        <input type="range" id="pitch" min="0.5" max="2" value="1" step="0.1">
                        <span class="value-display" id="pitchValue">1</span>
                    </div>
                </div>
                
                <select id="languageSelect" class="voice-selector">
                    <option value="ur-PK">Ø§Ø±Ø¯Ùˆ (Urdu)</option>
                    <option value="hi-IN">ÛÙ†Ø¯ÛŒ (Hindi)</option>
                    <option value="en-US">Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ (English)</option>
                </select>
            </div>
            
            <div id="status" class="status"></div>
            
            <div class="button-group">
                <button class="btn-speak" onclick="speakText()">
                    <span>â–¶ï¸</span> Ø¨ÙˆÙ„Ù†Ø§ | à¤¬à¥‹à¤²à¤¨à¤¾
                </button>
                <button class="btn-record" id="recordBtn" onclick="toggleRecording()">
                    <span>âºï¸</span> Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ÛŒÚº | à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡ à¤•à¤°à¥‡à¤‚
                </button>
            </div>
            
            <div class="download-section" id="downloadSection">
                <h4>âœ… Ø¢ÚˆÛŒÙˆ ØªÛŒØ§Ø± ÛÛ’! | à¤‘à¤¡à¤¿à¤¯à¥‹ à¤¤à¥ˆà¤¯à¤¾à¤° à¤¹à¥ˆ!</h4>
                <audio id="recordedAudio" controls style="width: 100%; margin: 10px 0;"></audio>
                <br>
                <button onclick="downloadAudio()" style="background: #4CAF50; color: white; padding: 12px 24px; border: none; border-radius: 8px; margin: 10px;">
                    <span>ğŸ’¾</span> Ø¢ÚˆÛŒÙˆ ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº | à¤‘à¤¡à¤¿à¤¯à¥‹ à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚
                </button>
            </div>
            
            <div class="language-info" style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-top: 20px;">
                <h4>ğŸ’¡ ÛØ¯Ø§ÛŒØ§Øª | à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶:</h4>
                <p>1. Ù…ØªÙ† Ù„Ú©Ú¾ÛŒÚº Ø§ÙˆØ± "Ø¨ÙˆÙ„Ù†Ø§" Ø¨Ù¹Ù† Ø¯Ø¨Ø§Ø¦ÛŒÚº</p>
                <p>2. "Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ÛŒÚº" Ø¨Ù¹Ù† Ø¯Ø¨Ø§Ø¦ÛŒÚº - ÛŒÛ Ø¢ÙˆØ§Ø² Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±Û’ Ú¯Ø§</p>
                <p>3. Ø¢ÚˆÛŒÙˆ ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ø¨Ù¹Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº</p>
            </div>
        </div>
        
        <div class="footer">
            <p>ğŸš€ Ù…ÙØª Ø§Ø±Ø¯Ùˆ/à¤¹à¤¿à¤¨à¥à¤¦à¥€ Ù¹ÛŒÚ©Ø³Ù¹ Ù¹Ùˆ Ø§Ø³Ù¾ÛŒÚ† Ù¹ÙˆÙ„ | Free Urdu/Hindi Text to Speech Tool</p>
        </div>
    </div>

    <script>
        let mediaRecorder;
        let audioChunks = [];
        let isRecording = false;
        let recordedAudioUrl = null;

        // Update slider values
        document.getElementById('rate').addEventListener('input', function() {
            document.getElementById('rateValue').textContent = this.value;
        });
        
        document.getElementById('pitch').addEventListener('input', function() {
            document.getElementById('pitchValue').textContent = this.value;
        });

        // Browser built-in speech
        function speakText() {
            const text = document.getElementById('textInput').value.trim();
            if (text === '') {
                alert('ğŸ“ Ø¨Ø±Ø§Û Ú©Ø±Ù… Ù…ØªÙ† Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº | à¤•à¥ƒà¤ªà¤¯à¤¾ à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚');
                return;
            }

            const speech = new SpeechSynthesisUtterance();
            speech.text = text;
            speech.rate = parseFloat(document.getElementById('rate').value);
            speech.pitch = parseFloat(document.getElementById('pitch').value);
            speech.lang = document.getElementById('languageSelect').value;
            
            window.speechSynthesis.speak(speech);
        }

        // Audio recording function
        async function toggleRecording() {
            const text = document.getElementById('textInput').value.trim();
            if (text === '') {
                alert('ğŸ“ Ù¾ÛÙ„Û’ Ù…ØªÙ† Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº | à¤ªà¤¹à¤²à¥‡ à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚');
                return;
            }

            if (!isRecording) {
                // Start recording
                try {
                    showStatus('âºï¸ Ø±ÛŒÚ©Ø§Ø±ÚˆÙ†Ú¯ Ø´Ø±ÙˆØ¹ ÛÙˆ Ø±ÛÛŒ ÛÛ’... | à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤¶à¥à¤°à¥‚ à¤¹à¥‹ à¤°à¤¹à¥€ à¤¹à¥ˆ...', 'recording');
                    
                    const stream = await navigator.mediaDevices.getUserMedia({ 
                        audio: {
                            echoCancellation: true,
                            noiseSuppression: true,
                            sampleRate: 44100
                        } 
                    });
                    
                    mediaRecorder = new MediaRecorder(stream, {
                        mimeType: 'audio/webm;codecs=opus'
                    });
                    
                    audioChunks = [];

                    mediaRecorder.ondataavailable = (event) => {
                        if (event.data.size > 0) {
                            audioChunks.push(event.data);
                        }
                    };

                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                        
                        // Convert to WAV for better compatibility
                        recordedAudioUrl = URL.createObjectURL(audioBlob);
                        
                        const audioElement = document.getElementById('recordedAudio');
                        audioElement.src = recordedAudioUrl;
                        
                        document.getElementById('downloadSection').style.display = 'block';
                        showStatus('âœ… Ø¢ÚˆÛŒÙˆ ØªÛŒØ§Ø± ÛÛ’! ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº | à¤‘à¤¡à¤¿à¤¯à¥‹ à¤¤à¥ˆà¤¯à¤¾à¤° à¤¹à¥ˆ! à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚', 'ready');
                        
                        // Stop all tracks
                        stream.getTracks().forEach(track => track.stop());
                    };

                    mediaRecorder.start();
                    isRecording = true;
                    document.getElementById('recordBtn').innerHTML = '<span>â¹ï¸</span> Ø±ÛŒÚ©Ø§Ø±ÚˆÙ†Ú¯ Ø±ÙˆÚ©ÛŒÚº | à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤°à¥‹à¤•à¥‡à¤‚';
                    document.getElementById('recordBtn').className = 'btn-stop';
                    
                    showStatus('ğŸ¤ Ø±ÛŒÚ©Ø§Ø±ÚˆÙ†Ú¯ Ø¬Ø§Ø±ÛŒ ÛÛ’... Ø¨ÙˆÙ„Ù†Ø§ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº | à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤šà¤² à¤°à¤¹à¥€ à¤¹à¥ˆ... à¤¬à¥‹à¤²à¤¨à¤¾ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚', 'recording');
                    
                    // Auto start speaking
                    setTimeout(() => {
                        speakText();
                    }, 1000);
                    
                } catch (error) {
                    console.error('Recording error:', error);
                    showStatus('âŒ Ù…Ø§Ø¦ÛŒÚ©Ø±ÙˆÙÙˆÙ† Ú©ÛŒ Ø§Ø¬Ø§Ø²Øª Ø¯Ø±Ú©Ø§Ø± ÛÛ’ | à¤®à¤¾à¤‡à¤•à¥à¤°à¥‹à¤«à¥‹à¤¨ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤†à¤µà¤¶à¥à¤¯à¤•', 'recording');
                }
            } else {
                // Stop recording
                if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                    mediaRecorder.stop();
                    isRecording = false;
                    document.getElementById('recordBtn').innerHTML = '<span>âºï¸</span> Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ÛŒÚº | à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡ à¤•à¤°à¥‡à¤‚';
                    document.getElementById('recordBtn').className = 'btn-record';
                }
            }
        }

        function downloadAudio() {
            if (recordedAudioUrl) {
                const a = document.createElement('a');
                a.href = recordedAudioUrl;
                a.download = `urdu_hindi_speech_${Date.now()}.webm`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                showStatus('ğŸ’¾ Ø¢ÚˆÛŒÙˆ ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ ÛÙˆ Ú¯Ø¦ÛŒ! | à¤‘à¤¡à¤¿à¤¯à¥‹ à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤¹à¥‹ à¤—à¤ˆ!', 'ready');
            }
        }

        function showStatus(message, type) {
            const statusElement = document.getElementById('status');
            statusElement.textContent = message;
            statusElement.className = `status ${type}`;
            statusElement.style.display = 'block';
        }

        // Initialize
        showStatus('âœ… Ù¹ÙˆÙ„ ØªÛŒØ§Ø± ÛÛ’ | à¤Ÿà¥‚à¤² à¤¤à¥ˆà¤¯à¤¾à¤° à¤¹à¥ˆ', 'ready');
    </script>
</body>
</html>
