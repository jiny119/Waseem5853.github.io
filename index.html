<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urdu/Hindi Text to Speech with Download</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        .input-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 18px;
            font-family: 'Segoe UI', 'Nafees', 'Jameel Noori Nastaleeq', sans-serif;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: #4CAF50;
        }
        
        .controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
        }
        
        .value-display {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
            color: #4CAF50;
        }
        
        .voice-selector {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }
        
        button {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-speak {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }
        
        .btn-download {
            background: linear-gradient(135deg, #9C27B0, #7B1FA2);
            color: white;
        }
        
        .btn-stop {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }
        
        .btn-pause {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            color: white;
        }
        
        .btn-resume {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .download-section {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 5px solid #4CAF50;
            text-align: center;
        }
        
        .download-section h4 {
            color: #2E7D32;
            margin-bottom: 10px;
        }
        
        #downloadLink {
            display: inline-block;
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        .language-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 5px solid #2196F3;
        }
        
        .language-info h4 {
            color: #1976D2;
            margin-bottom: 10px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 10px;
            color: #ff9800;
        }
        
        @media (max-width: 600px) {
            .header h1 {
                font-size: 2em;
            }
            
            .button-group {
                grid-template-columns: 1fr;
            }
            
            body {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ЁЯЧгя╕П ╪з╪▒╪п┘И/рд╣рд┐рдиреНрджреА ┘╣█М┌й╪│┘╣ ┘╣┘И ╪з╪│┘╛█М┌Ж</h1>
            <p>╪з┘╛┘Ж╪з ┘Е╪к┘Ж ┘Д┌й┌╛█М┌║╪М ╪│┘Ж█М┌║ ╪з┘И╪▒ ┌И╪з╪д┘Ж┘Д┘И┌И ┌й╪▒█М┌║ | рдЕрдкрдирд╛ рдЯреЗрдХреНрд╕реНрдЯ рд▓рд┐рдЦреЗрдВ, рд╕реБрдиреЗрдВ рдФрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <h3>ЁЯУЭ ╪з┘╛┘Ж╪з ┘Е╪к┘Ж █М█Б╪з┌║ ┘Д┌й┌╛█М┌║ | рдЕрдкрдирд╛ рдЯреЗрдХреНрд╕реНрдЯ рдпрд╣рд╛рдБ рд▓рд┐рдЦреЗрдВ:</h3>
                <textarea id="textInput" placeholder="┘Е╪л╪з┘Д: ╪з┘Д╪│┘Д╪з┘Е ╪╣┘Д█М┌й┘Е | рдЙрджрд╛рд╣рд░рдг: рдирдорд╕реНрддреЗ..."></textarea>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>ЁЯО╡ ╪в┘И╪з╪▓ ┌й█М ╪▒┘Б╪к╪з╪▒ | рд╡реЙрдпрд╕ рд╕реНрдкреАрдб:</label>
                    <div class="slider-container">
                        <input type="range" id="rate" min="0.5" max="2" value="1" step="0.1">
                        <span class="value-display" id="rateValue">1</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>ЁЯОд ╪в┘И╪з╪▓ ┌й█М ┘╛┌Ж | рд╡реЙрдпрд╕ рдкрд┐рдЪ:</label>
                    <div class="slider-container">
                        <input type="range" id="pitch" min="0.5" max="2" value="1" step="0.1">
                        <span class="value-display" id="pitchValue">1</span>
                    </div>
                </div>
                
                <select id="languageSelect" class="voice-selector">
                    <option value="ur-PK">╪з╪▒╪п┘И (Urdu)</option>
                    <option value="hi-IN">█Б┘Ж╪п█М (Hindi)</option>
                    <option value="en-US">╪з┘Ж┌п╪▒█М╪▓█М (English)</option>
                </select>
            </div>
            
            <div class="loading" id="loading">
                тП│ ╪в┌И█М┘И ╪к█М╪з╪▒ █Б┘И ╪▒█Б█М █Б█Т... | рдСрдбрд┐рдпреЛ рддреИрдпрд╛рд░ рд╣реЛ рд░рд╣рд╛ рд╣реИ...
            </div>
            
            <div class="button-group">
                <button class="btn-speak" onclick="speakText()">
                    <span>тЦ╢я╕П</span> ╪и┘И┘Д┘Ж╪з | рдмреЛрд▓рдирд╛
                </button>
                <button class="btn-download" onclick="downloadAudio()">
                    <span>ЁЯТ╛</span> ┌И╪з╪д┘Ж┘Д┘И┌И | рдбрд╛рдЙрдирд▓реЛрдб
                </button>
                <button class="btn-stop" onclick="stopSpeech()">
                    <span>тП╣я╕П</span> ╪▒┘И┌й█М┌║ | рд░реЛрдХреЗрдВ
                </button>
            </div>
            
            <div class="download-section" id="downloadSection" style="display: none;">
                <h4>тЬЕ ╪в┌И█М┘И ╪к█М╪з╪▒ █Б█Т! | рдСрдбрд┐рдпреЛ рддреИрдпрд╛рд░ рд╣реИ!</h4>
                <audio id="audioPlayer" controls style="width: 100%; margin: 10px 0;"></audio>
                <a id="downloadLink" download="speech.mp3">ЁЯУе ╪в┌И█М┘И ┌И╪з╪д┘Ж┘Д┘И┌И ┌й╪▒█М┌║ | рдСрдбрд┐рдпреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ</a>
            </div>
            
            <div class="language-info">
                <h4>ЁЯТб ┘Е╪╣┘Д┘И┘Е╪з╪к | рдЬрд╛рдирдХрд╛рд░реА:</h4>
                <p>тАв ╪з╪и ╪в┘╛ ╪в┌И█М┘И ┘Б╪з╪ж┘Д ┌И╪з╪д┘Ж┘Д┘И┌И ┌й╪▒ ╪│┌й╪к█Т █Б█М┌║! | рдЕрдм рдЖрдк рдСрдбрд┐рдпреЛ рдлрд╝рд╛рдЗрд▓ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ!</p>
                <p>тАв MP3 ┘Б╪з╪ж┘Д ┘Е█М┌║ ┘Е╪н┘Б┘И╪╕ ┌й╪▒█М┌║ | MP3 рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ</p>
                <p>тАв ╪в┘Ж ┘Д╪з╪ж┘Ж ╪з┘И╪▒ ╪в┘Б┘Д█М┘Ж ╪п┘И┘Ж┘И┌║ ╪╖╪▒╪н ╪з╪│╪к╪╣┘Е╪з┘Д ┌й╪▒█М┌║ | рдСрдирд▓рд╛рдЗрди рдФрд░ рдСрдлрд▓рд╛рдЗрди рджреЛрдиреЛрдВ рддрд░рд╣ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░реЗрдВ</p>
            </div>
        </div>
        
        <div class="footer">
            <p>ЁЯЪА ┘Е┘Б╪к ╪з╪▒╪п┘И/рд╣рд┐рдиреНрджреА ┘╣█М┌й╪│┘╣ ┘╣┘И ╪з╪│┘╛█М┌Ж ┘╣┘И┘Д | Free Urdu/Hindi Text to Speech Tool</p>
        </div>
    </div>

    <script>
        // VoiceRSS API Configuration
        const API_KEY = 'b7f9b1a83a5b4c8c9a7b1a3c5e8f9a2b'; // Free demo key (replace with your own)
        const API_URL = 'https://api.voicerss.org/';
        
        let currentAudioUrl = '';
        
        // Update slider values
        document.getElementById('rate').addEventListener('input', function() {
            document.getElementById('rateValue').textContent = this.value;
        });
        
        document.getElementById('pitch').addEventListener('input', function() {
            document.getElementById('pitchValue').textContent = this.value;
        });
        
        async function generateAudio(text, language, download = false) {
            const loadingElement = document.getElementById('loading');
            const downloadSection = document.getElementById('downloadSection');
            
            try {
                loadingElement.style.display = 'block';
                
                const params = new URLSearchParams({
                    key: API_KEY,
                    src: text,
                    hl: language,
                    r: document.getElementById('rate').value,
                    c: 'MP3',
                    f: '44khz_16bit_stereo',
                    b64: true
                });
                
                const response = await fetch(`${API_URL}?${params}`);
                const audioData = await response.text();
                
                if (audioData.startsWith('ERROR')) {
                    throw new Error(audioData);
                }
                
                currentAudioUrl = `data:audio/mp3;base64,${audioData}`;
                
                // Set up audio player and download link
                const audioPlayer = document.getElementById('audioPlayer');
                const downloadLink = document.getElementById('downloadLink');
                
                audioPlayer.src = currentAudioUrl;
                downloadLink.href = currentAudioUrl;
                
                downloadSection.style.display = 'block';
                
                if (!download) {
                    audioPlayer.play();
                }
                
            } catch (error) {
                alert('тЭМ ╪в┌И█М┘И ╪и┘Ж╪з┘Ж█Т ┘Е█М┌║ ┘Е╪│╪ж┘Д█Б █Б┘И╪з | рдСрдбрд┐рдпреЛ рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рд╣реБрдИ: ' + error.message);
                console.error('API Error:', error);
            } finally {
                loadingElement.style.display = 'none';
            }
        }
        
        function speakText() {
            const text = document.getElementById('textInput').value.trim();
            if (text === '') {
                alert('ЁЯУЭ ╪и╪▒╪з█Б ┌й╪▒┘Е ┘Е╪к┘Ж ╪п╪▒╪м ┌й╪▒█М┌║ | рдХреГрдкрдпрд╛ рдЯреЗрдХреНрд╕реНрдЯ рджрд░реНрдЬ рдХрд░реЗрдВ');
                return;
            }
            
            const language = document.getElementById('languageSelect').value;
            generateAudio(text, language, false);
        }
        
        function downloadAudio() {
            const text = document.getElementById('textInput').value.trim();
            if (text === '') {
                alert('ЁЯУЭ ╪и╪▒╪з█Б ┌й╪▒┘Е ┘Е╪к┘Ж ╪п╪▒╪м ┌й╪▒█М┌║ | рдХреГрдкрдпрд╛ рдЯреЗрдХреНрд╕реНрдЯ рджрд░реНрдЬ рдХрд░реЗрдВ');
                return;
            }
            
            const language = document.getElementById('languageSelect').value;
            generateAudio(text, language, true);
        }
        
        function stopSpeech() {
            const audioPlayer = document.getElementById('audioPlayer');
            audioPlayer.pause();
            audioPlayer.currentTime = 0;
        }
        
        // Demo API key - Get your free API key from voicerss.org
        console.log('Get free API key from: http://www.voicerss.org/registration.aspx');
    </script>
</body>
</html>
